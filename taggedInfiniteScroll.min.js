!function(a,b){"function"==typeof define&&define.amd?define(["angular","underscore"],b):a.taggedInfiniteScroll=b(a.angular,a._)}(this,function(a,b){"use strict";var c=a.module("tagged.directives.infiniteScroll",[]);return c.directive("taggedInfiniteScroll",["$window","$timeout",function(c,d){var e=50;return{scope:{callback:"&taggedInfiniteScroll",distance:"=taggedInfiniteScrollDistance",disabled:"=taggedInfiniteScrollDisabled"},link:function(f,g){var h=a.element(c),i=b.throttle(function(){if(!f.disabled){var a=h.height(),b=g.offset().top+g.height(),c=a+h.scrollTop(),e=b-c,i=e-parseInt(f.distance||0,10)<=0;i&&d(f.callback)}},e);f.$watch("disabled",i),h.bind("scroll",i),f.$on("$destroy",function(){h.unbind("scroll",i)}),d(i)}}}]),c});